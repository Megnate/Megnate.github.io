---
title: 博客主题个性化
date: 2021-03-02 15:02:56
tags: [博客,设置]
categories: 技术
---

主题设置

<!--more-->

### 添加图片

- 在根目录的`_config.yml`文件中修改配置项`post_asset_folder: true`：修改完成之后，当创建新的博客的时候会新建一个同名的文件夹，来保存图片
- 在根目录安装插件：`npm install https://github.com/CodeFalling/hexo-asset-image --save`

当文章需要图片的时候，将图片放入同名文件夹中，通过**相对路径**索引到该图片

### 首先显示部分内容

- 第一种：在最上面加入：`description:`
- 第二种：在需要截断的地方插入：`<!-- more -->`就行

### 主题设置

`tags:显示所属分类`

`categories:显示所属标签`

需要现在根目录处`git bash`生成**标签**和**分类**对应的文件夹

```
hexo new page categories  分类

hexo new page tags  标签
```

- 修改标签和分类打开是空白的问题，以及设置字体等主题
  - `打开source-categories文件夹中的index.md`添加一行：`type: "categories"`
  - `打开source-tags文件夹中的index.md`添加一行：`type: "tags"`

### 插入别人链接

在主题文件中，在设置menu的菜单下面

```
social:   #友链地址
  GitHub: https://github.com/condorheroblog || github
  E-Mail: mailto:2846124732@qq.com || envelope
  简书: https://www.jianshu.com/u/491bd4155f96
  QQ: http://sighttp.qq.com/authd?IDKEY=f67c919702f76aff21f09284308fe39875d3f6b466780165
social_icons:  #友链图标
  enable: true
  icons_only: false
  transition: false
```

### 创建关于我

- 新建一个文件夹：`hexo new page about`

- 编辑其中的`index.md`文件，将页面类型设置为`type:"about"`

- 编辑主题配置文件` themes\主题名字\_config.yml`

  添加`about: /about`到**menu**菜单下，此时的顺序是页面显示的顺序

  一般而言都是直接取消注释，而不需要自己修改

### 代码高亮

编辑主题配置文件` themes\主题名字\_config.yml`

搜索`Code Heighlight`，一般选用就是`night`和 `normal`

### 换终端

`hexo d`上传到`github`的实际上是`hexo`编译号的文件，用来生成网页的，存放在`Megnate.github.io/.deploy_git`文件夹里面

在`github`中建立一个新的分支`hexo`，并不是在`git bash`中建立，而是在网页版上建立，如果不觉得以后切换分支麻烦，可以设置`hexo`为默认分支

在本地中的任意目录中，建议在`Megnate.github.io`文件夹所在的那个目录建立一个新的目录：`hexo page`的文件夹，在其中打开`git bash`

输入：`git clone git@github.com:Megnate/Megnate.github.io.git`，注意此时的分支一定要是之前的`hexo`

在`hexo page/Megnate.github.io`文件夹中，将除开`.git`的文件全部删掉，将之前的`Megnate.github.io`文件夹中的除开`.deploy_git`的文件全部复制过来

在`.gitignore`文件中写下如下语句，表示这些类型的文件不需要`git`

```
.DS_Store
Thumbs.db
db.json
*.log
node_modules/
public/
.deploy*/
```

如果之前的`hexo`所使用的主题是通过`git clone`过来的，需要将其中的`theme/主题名/.git`这个文件删掉，因为`git`不支持嵌套上传

然后就可以上传文件到`hexo`分支中了

```
git add .
git commit -m"add new branch"
git push
```

#### 更换电脑

安装`git`：

设置`git`的全局邮箱和用户名：

```git
git config --global user.name "Megnate"
git config --global user.email "1327358992@qq.com"
```

设置`SSH key`

```
ssh-keygen -t rsa -C "1327358992@qq.com"
# 生成后填到github和coding上，有coding的话
# 验证是否成功
ssh -T git@github.com
git -T git@git.coding.net
```

安装`node.js`

```
# 可以这样安装
sudo apt-get install nodejs
sudo apt-get install npm
# 也可以去官网找别的版本来安装
```

安装`hexo`

`npm install hexo-cli -g` 或者 `sudo install hexo-cli -g` 或者 `$ npm install -g hexo`

并不需要初始化了，在任意文件夹下：`git clone git@github:Megnate/Megnate.github.io.git`

进入克隆的文件夹：

```
cd Megnate.github.io
npm install
npm install hexo-deployer-git --save
```

生成部署：

```
hexo g
hexo d
```

每一次写完最好都需要把源文件上传一下：

```
git add .
git commit -m""
git push
```

如果还是在原电脑，代表存在`clone`过的文件夹，那么只需要和远端同步一下就可以了：`git pull`